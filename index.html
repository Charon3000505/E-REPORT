<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>E-Report Fasilitas Sekolah</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-light">
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
      <img src="assets/img/idn (1).png" alt=""  class="rounded-circle" width="40" height="40" href="index.html" >
      <a class="navbar-brand fw-bold" href="index.html">E-Report Sekolah</a>
      <div>
        <a href="reports.html" class="btn btn-light btn-sm">ğŸ“‹ Lihat Laporan</a>
      </div>
    </div>
  </nav>
  <!-- Hero Section -->
    <!-- ====== Hero Section ====== -->
  <section class="hero-section">
    <div class="container">
      <h1 class="mb-3">Suara Kamu Penting untuk Sekolah Kita ğŸ“</h1>
      <p class="mb-4">Sampaikan keluhan, saran, atau pesanmu dengan mudah lewat E-Report Sekolah. Cepat, aman, dan pasti didengar!</p>
       <button class="btn-laporan" onclick="showSection('dashboard')">Kirim Laporan Sekarang</button>
    </div>
  </section>
<!-- layanan -->
<section id="layanan">
  <h1 class="text-center mb-4">Apa Aja yang Bisa Kamu Laporkan?</h1>
  <div class="container-card">
    <div class="card">
      <img src="assets/img/akademik.jpg" alt="Akademik">
      <h3>Belajar & Akademik</h3>
      <p>Ada kendala di kelas? Nilai belum muncul? Ceritain di sini biar bisa cepat dibantu!</p>
    </div>

    <div class="card">
      <img src="assets/img/komposisi-isometrik-konsep-studi-perguruan-tinggi-universitas-kontemporer-dengan-lokakarya-pendidikan-daring-komunitas-mahasiswa-ilustrasi-kelulusan-kuliah_1284-28327.avif" alt="Fasilitas Sekolah">
      <h3>Fasilitas Sekolah</h3>
      <p>Meja rusak, lampu mati, atau WC kotor? Laporkan aja, biar sekolah makin nyaman buat semua.</p>
    </div>

    <div class="card">
      <img src="assets/img/tanda-label-piktogram-terisolasi-petugas-kebersihan-memegang-kain-pel-dan-ember-air-yang-melambangkan-pembersihan-sedang-berlangsung_626431-1580.avif" alt="Kebersihan & Keamanan">
      <h3>Kebersihan & Keamanan</h3>
      <p>Bantu jaga sekolah tetap bersih dan aman dengan laporanmu yang berarti!</p>
    </div>

    <div class="card">
      <img src="assets/img/laynan.jpg" alt="Pelayanan Sekolah">
      <h3>Pelayanan Sekolah</h3>
      <p>Ada pengalaman kurang enak atau saran buat pelayanan sekolah? Yuk, bagikan di sini!</p>
    </div>
  </div>
</section>

<!-- CARAKERJA NYA -->

<section id="cara" class="py-5 bg-white text-center">
  <h2 class="mb-4">Bagaimana Cara Menggunakan E-Report?</h2>
  <div class="row">
    <div class="col-md-4">
      <h4>1. Isi Form</h4>
      <p>Pilih kategori dan tulis laporan kamu.</p>
    </div>
    <div class="col-md-4">
      <h4>2. Proses oleh Sekolah</h4>
      <p>Tim sekolah akan memproses laporanmu.</p>
    </div>
    <div class="col-md-4">
      <h4>3. Selesai & Diumumkan</h4>
      <p>Laporan selesai diproses dan bisa kamu lihat statusnya.</p>
    </div>
  </div>
</section>
<section id="testimoni" class="py-5 text-center">

  <!-- TESTIMONI -->
    <!-- Daftar Testimoni -->
    <div id="testimoni-list" class="row justify-content-center mb-5">
      <!-- Testimoni akan muncul di sini -->
    </div>

    <!-- Form Tambah Testimoni dipisah di card -->
    <div class="card p-4 shadow-sm mx-auto" id="tetimoni-list"   style="max-width: 500px; position: relative; z-index: 2;">
      <h5 class="fw-bold mb-3">Tulis Testimoni Kamu</h5>
      <form id="formTestimoni">
        <div class="mb-3">
          <input type="text" id="nama" class="form-control" placeholder="Nama kamu" required>
        </div>
        <div class="mb-3">
          <textarea id="pesan" class="form-control" placeholder="Tulis pesanmu..." rows="3" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary w-100">Kirim Testimoni</button>
      </form>
    </div>
  </div>
</section>

 <!-- ===== FAQ SECTION ===== -->
<section id="faq" class="py-5 bg-light">
  <div class="container">
    <h2 class="fw-bold text-center mb-4">Pertanyaan yang Sering Diajukan</h2>
    <p class="text-center text-muted mb-5">Masih bingung cara pakainya? Coba baca pertanyaan di bawah ini ğŸ‘‡</p>

    <div class="accordion shadow-sm" id="faqAccordion">

      <!-- FAQ 1 -->
      <div class="accordion-item mb-3 border-0 rounded-3 shadow-sm">
        <h2 class="accordion-header">
          <button class="accordion-button fw-semibold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
            ğŸ”¹ Apa itu E-Report Sekolah?
          </button>
        </h2>
        <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            E-Report Sekolah adalah sistem pelaporan digital untuk siswa, guru, dan staf agar bisa menyampaikan keluhan, saran, atau testimoni tentang fasilitas dan layanan sekolah secara mudah dan cepat.
          </div>
        </div>
      </div>

      <!-- FAQ 2 -->
      <div class="accordion-item mb-3 border-0 rounded-3 shadow-sm">
        <h2 class="accordion-header">
          <button class="accordion-button fw-semibold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
            ğŸ•’ Berapa lama laporan saya diproses?
          </button>
        </h2>
        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Biasanya laporan akan ditinjau oleh tim sekolah dalam waktu 1â€“3 hari kerja. Kamu bisa memantau status laporan di halaman <strong>Dashboard</strong>.
          </div>
        </div>
      </div>

      <!-- FAQ 3 -->
      <div class="accordion-item mb-3 border-0 rounded-3 shadow-sm">
        <h2 class="accordion-header">
          <button class="accordion-button fw-semibold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
            ğŸ“¸ Apakah saya bisa menambahkan foto pada laporan?
          </button>
        </h2>
        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Tentu! Saat mengisi laporan baru, kamu bisa mengunggah foto kondisi fasilitas agar tim sekolah bisa lebih mudah memahami masalahnya.
          </div>
        </div>
      </div>

      <!-- FAQ 4 -->
      <div class="accordion-item mb-3 border-0 rounded-3 shadow-sm">
        <h2 class="accordion-header">
          <button class="accordion-button fw-semibold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
            ğŸ” Apakah laporan saya bersifat rahasia?
          </button>
        </h2>
        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Ya, semua laporan dijaga kerahasiaannya. Hanya pihak sekolah yang berwenang yang dapat mengakses detail laporan tersebut.
          </div>
        </div>
      </div>

      <!-- FAQ 5 -->
      <div class="accordion-item mb-3 border-0 rounded-3 shadow-sm">
        <h2 class="accordion-header">
          <button class="accordion-button fw-semibold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
            ğŸ’¬ Bisakah saya menghapus testimoni yang sudah dikirim?
          </button>
        </h2>
        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Ya, kamu bisa menghapus testimoni melalui tombol <strong>Hapus</strong> di bawah pesan testimoni yang sudah kamu kirim.
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

  <section class="container py-5" id="dashboard">
  <h1 class="mb-4 fw-bold text-center">Dashboard E-Report</h1>
  <div class="row text-center" id="dashboard-stats">
    <div class="col-md-3 mb-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <h3 id="totalReports">0</h3>
          <p>Total Laporan</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <h3 id="newReports">0</h3>
          <p>Status: Baru</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <h3 id="processReports">0</h3>
          <p>Status: Diproses</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <h3 id="doneReports">0</h3>
          <p>Status: Selesai</p>
        </div>
      </div>
    </div>
  </div>
  <div class="text-center mt-4">
    <a href="add-report.html" class="btn btn-primary">+ Tambah Laporan Baru</a>
    <a href="reports.html" class="btn btn-outline-secondary">Lihat Semua Laporan</a>
  </div>
</section>




<footer>
      <div class="footer-content">
        <figure class="footer-logo">
          <img src="assets/img/idn (1).png" alt="idn logo" />
          <figcaption class="visually-hidden">
          </figcaption>
        </figure>
        <h3 class="footer-title">Suara Kamu, Aksi Nyata untuk Sekolah Lebih Baik</h3>
        <p class="footer-slogan">Laporkan masalah, sampaikan ide, atau beri saran untuk membuat lingkungan sekolah lebih nyaman dan maju bersama E-Report Digital Sekolah.</p>
        <button class="btn-laporan" onclick="showSection('dashboard')">Kirim Laporan Sekarang</button>
      </div>
    </footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script >

// ====== Fungsi Menampilkan Section ======
function showSection(id) {
  document.querySelectorAll('.dashboard').forEach(sec => sec.style.display = 'none'); // sembunyikan semua section
  const target = document.getElementById(id);
  if(target) target.style.display = 'block'; // tampilkan section yang diklik
  updateDashboard(); // refresh data dashboard saat ditampilkan
  window.scrollTo({top: target.offsetTop, behavior: 'smooth'}); // scroll ke section
}

// ====== Fungsi Update Dashboard ======
function updateDashboard() {
  const reports = JSON.parse(localStorage.getItem('reports')) || [];
  const total = reports.length;
  const baru = reports.filter(r => r.status === "Baru").length;
  const proses = reports.filter(r => r.status === "Diproses").length;
  const selesai = reports.filter(r => r.status === "Selesai").length;
  
  document.getElementById('totalReports').innerText = total;
  document.getElementById('newReports').innerText = baru;
  document.getElementById('processReports').innerText = proses;
  document.getElementById('doneReports').innerText = selesai;
}
updateDashboard();

// ====== Scroll Halus untuk Anchor ======
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function (e) {
    e.preventDefault();
    document.querySelector(this.getAttribute('href')).scrollIntoView({
      behavior: 'smooth'
    });
  });
});

// ====== Fungsi Menampilkan Testimoni ======
function loadTestimoni() {
  const section = document.getElementById("testimoni");
  const list = document.getElementById("testimoni-list");
  const data = JSON.parse(localStorage.getItem("testimoni")) || [];
  list.innerHTML = ""; // bersihkan isi sebelumnya

  // ====== Background muncul hanya kalau ada testimoni ======
  if (data.length > 0) {
    section.classList.add("has-bg");
  } else {
    section.classList.remove("has-bg");
  }

  data.forEach((t, index) => {
    const col = document.createElement("div");
    col.className = "col-md-4 mb-3";
    col.innerHTML = `
      <div class="card shadow-sm p-4 h-100">
        <p class="fst-italic">"${t.pesan}"</p>
        <hr>
        <h6 class="fw-bold mb-1">â€“ ${t.nama}</h6>
        <small class="text-muted">Dikirim: ${t.waktu}</small><br>
        <button class="btn btn-sm btn-outline-danger mt-2" onclick="hapusTestimoni(${index})">Hapus</button>
      </div>`;
    list.appendChild(col);
  });
}
loadTestimoni(); // load awal testimoni

// ====== Tambah Testimoni Baru ======
document.getElementById("formTestimoni").addEventListener("submit", function (e) {
  e.preventDefault();

  const nama = document.getElementById("nama").value.trim();
  const pesan = document.getElementById("pesan").value.trim();

  if (nama && pesan) {
    const data = JSON.parse(localStorage.getItem("testimoni")) || [];

    // Tambahkan waktu dikirim
    const now = new Date();
    const options = { day: '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit' };
    const waktu = now.toLocaleString('id-ID', options);

    data.push({ nama, pesan, waktu });
    localStorage.setItem("testimoni", JSON.stringify(data));

    this.reset();
    loadTestimoni(); // refresh tampilan
  }
});

// ====== Hapus Testimoni ======
function hapusTestimoni(index) {
  const data = JSON.parse(localStorage.getItem("testimoni")) || [];
  data.splice(index, 1);
  localStorage.setItem("testimoni", JSON.stringify(data));
  loadTestimoni(); // refresh tampilan
}



</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>